{{ define "main" }}
<div class="w-content mb-10">
    <section>
        <div class="mb-8 flex items-center gap-4">
            <a href="/series/" class="inline-flex items-center justify-center w-10 h-10 rounded-lg bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 transition-colors duration-200" aria-label="Back to series">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-700 dark:text-gray-200" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                </svg>
            </a>
            <h2 class="text-3xl leading-tight tracking-tight text-gray-900 font-bold dark:text-gray-200">
                Series: {{ .Name }} ({{ .Data.Pages | len }})
            </h2>
        </div>
        <ul class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6">
            {{ range .Data.Pages }}
            <li class="relative flex flex-col">
                <!-- Image Container -->
                <div class="relative h-40 sm:h-48 overflow-hidden rounded-lg shadow-md mb-4">
                    {{ if .Params.featureimage }}
                    <img 
                        src="{{ .Params.featureimage }}" 
                        alt="{{ .Title }}"
                        class="w-full h-full object-cover no-dark-invert"
                        loading="lazy">
                    {{ else }}
                    <!-- Fallback gradient -->
                    <div class="w-full h-full bg-gradient-to-br from-orange-500 to-blue-900"></div>
                    {{ end }}
                </div>
                
                <!-- Content -->
                <div class="flex-1 flex flex-col">
                    <!-- Title -->
                    <div class="prose prose-sm text-gray-600 dark:prose-dark mb-4">
                        <p class="text-base font-medium text-gray-900 dark:text-gray-100 line-clamp-2">{{ .Title }} {{ if .Draft }}:: Draft{{ end }}</p>
                    </div>
                    
                    <!-- Read Button -->
                    <a
                        class="group inline-flex items-center h-9 rounded-full text-sm font-semibold whitespace-nowrap px-3 focus:outline-none focus:ring-2 bg-gray-100 text-gray-700 hover:bg-gray-200 hover:text-gray-900 focus:ring-gray-500 dark:bg-gray-700 dark:text-gray-100 dark:hover:bg-gray-600 dark:hover:text-white dark:focus:ring-gray-500 w-fit"
                        href="{{ .RelPermalink }}">
                        Read
                        <svg
                            class="overflow-visible ml-3 text-gray-300 group-hover:text-gray-400 dark:text-gray-500 dark:group-hover:text-gray-400"
                            width="3" height="6" viewBox="0 0 3 6" fill="none" stroke="currentColor" stroke-width="2"
                            stroke-linecap="round" stroke-linejoin="round">
                            <path d="M0 0L3 3L0 6"></path>
                        </svg>
                    </a>
                </div>
            </li>
            {{ end }}
        </ul>
    </section>
</div>
{{ end }}